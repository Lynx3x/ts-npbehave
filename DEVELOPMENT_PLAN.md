# TS-NPBehave 开发计划

## 已完成功能
- 核心行为树组件基础实现
  - 支持异步操作（使用Promise和async/await）
  - 节点状态和结果枚举
  - 基础节点类型（Node、Container、Composite、Decorator、Task）
- 简单的可视化编辑器
- 导出标准JSON配置
- 从JSON配置构建行为树的构建器

## 待完成功能

### 编辑器功能
- [x] 导出标准JSON配置功能
- [x] 导入标准JSON配置功能
- [x] 节点参数编辑功能完善
  - [x] 为每种节点类型添加专门的参数编辑界面
  - [x] 支持复杂参数类型（数组、对象等）
- [x] 节点显示优化
  - [x] 显示节点类型和名称
  - [x] 根据节点类型使用不同颜色和图标
- [x] 节点操作功能
  - [x] 删除节点功能
  - [x] 复制节点功能
  - [ ] 撤销/重做功能
- [x] 编辑器状态持久化
  - [x] 使用localStorage保存编辑器状态
  - [x] 自动保存功能
- [ ] 行为树执行和调试功能
  - [ ] 在编辑器中直接运行行为树
  - [ ] 可视化显示执行状态
  - [ ] 断点调试功能

### 核心功能
- [x] 移植更多装饰器节点
  - [x] Repeater
  - [x] Inverter
  - [x] Succeeder
  - [x] Failer
  - [x] TimeLimit (替代 TimeMin/TimeMax)
  - [ ] Cooldown
- [x] 移植更多任务节点
  - [x] WaitForCondition
  - [ ] WaitUntilStopped
  - [ ] RandomSelector
  - [ ] RandomSequence
- [ ] 黑板功能增强
  - [ ] 观察者模式优化
  - [ ] 类型安全的键值访问
- [ ] 时钟系统优化
  - [ ] 支持不同时间尺度
  - [ ] 性能优化

### 文档和示例
- [x] API文档
  - [x] 核心类文档
  - [x] 使用教程
- [x] 示例场景
  - [x] 简单AI示例
  - [ ] 游戏角色行为示例
  - [ ] UI交互示例

### 工程化
- [ ] 单元测试
  - [ ] 核心组件测试
  - [ ] 编辑器功能测试
- [ ] 性能测试和优化
- [ ] 打包和发布
  - [ ] NPM包配置
  - [ ] 编辑器独立部署

## 优先级排序

### 高优先级
1. ✅ 导入标准JSON配置功能
2. ✅ 节点参数编辑功能完善
3. ✅ 节点删除功能
4. ✅ 编辑器状态持久化

### 中优先级
1. ✅ 节点显示优化
2. ✅ 复制节点功能
3. ✅ 移植更多装饰器和任务节点
4. ✅ API文档

### 低优先级
1. ✅ 示例组件
2. 行为树执行和调试功能
3. 撤销/重做功能
4. 黑板功能增强
5. 时钟系统优化 